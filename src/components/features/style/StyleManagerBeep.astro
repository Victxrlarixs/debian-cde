---
import WindowControls from '../../common/WindowControls.astro';
import WindowMinimize from '../../common/WindowMinimize.astro';
---

<div class="cde-retro-modal style-manager-beep" id="styleManagerBeep">
  <div
    class="titlebar"
    id="styleManagerBeepTitlebar"
    onmousedown="window.drag(event, 'styleManagerBeep')"
  >
    <WindowMinimize windowId="styleManagerBeep" />
    <span class="titlebar-text">Style Manager - Audio & Beep</span>
    <WindowControls
      windowId="styleManagerBeep"
      closeFunction="styleManager.closeBeep"
      disableMaximize={true}
    />
  </div>

  <div class="modal-body">
    <div class="beep-content">
      <div class="beep-icon-section">
        <img src="/icons/multimedia-volume-control.png" alt="Audio" width="48" height="48" />
        <div class="beep-test-buttons">
          <button class="cde-btn" onclick="styleManager.beep.testBeep()">Test Beep</button>
          <button class="cde-btn" onclick="AudioManager.playThemeMelody()">Play Theme</button>
        </div>
      </div>

      <div class="beep-controls">
        <div class="beep-group-title">Audio Settings</div>

        <div class="beep-control-row">
          <label for="beep-volume">System Volume:</label>
          <div class="slider-container">
            <input
              type="range"
              id="beep-volume"
              min="0"
              max="100"
              value="50"
              oninput="styleManager.beep.update('volume', parseInt(this.value)); this.nextElementSibling.textContent = this.value + '%'"
            />
            <span class="value-display">50%</span>
          </div>
        </div>

        <div class="beep-control-row">
          <label for="beep-pitch">Beep Pitch (Hz):</label>
          <div class="slider-container">
            <input
              type="range"
              id="beep-pitch"
              min="200"
              max="2000"
              step="10"
              value="880"
              oninput="styleManager.beep.update('pitch', parseInt(this.value)); this.nextElementSibling.textContent = this.value + 'Hz'"
            />
            <span class="value-display">880Hz</span>
          </div>
        </div>

        <div class="beep-control-row">
          <label for="beep-duration">Beep Duration (ms):</label>
          <div class="slider-container">
            <input
              type="range"
              id="beep-duration"
              min="10"
              max="500"
              step="10"
              value="100"
              oninput="styleManager.beep.update('duration', parseInt(this.value)); this.nextElementSibling.textContent = this.value + 'ms'"
            />
            <span class="value-display">100ms</span>
          </div>
        </div>

        <div class="beep-group-title u-margin-top-sm">Melody Presets</div>
        <div class="melody-grid">
          <button class="cde-btn melody-btn" onclick="AudioManager.playStartupChime()"
            >Startup</button
          >
          <button class="cde-btn melody-btn" onclick="AudioManager.success()">Success</button>
          <button class="cde-btn melody-btn" onclick="AudioManager.error()">Error</button>
          <button class="cde-btn melody-btn" onclick="AudioManager.windowOpen()">Window</button>
        </div>
      </div>
    </div>
  </div>

  <div class="cde-statusbar">
    <div class="cde-statusleft">Audio Manager</div>
    <div class="cde-statusright" id="beepStatus">Ready</div>
  </div>

  <div class="cde-actionbar">
    <button class="cde-btn cde-btn-default" onclick="styleManager.closeBeep()">OK</button>
    <button class="cde-btn" onclick="styleManager.closeBeep()">Cancel</button>
  </div>
</div>
