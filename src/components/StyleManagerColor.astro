---
import WindowControls from "./common/WindowControls.astro";
---

<div class="cde-retro-modal style-manager-color" id="styleManagerColor">
  <div class="titlebar" id="styleManagerColorTitlebar">
    <span class="titlebar-text">Style Manager - Color</span>
    <WindowControls
      windowId="styleManagerColor"
      closeFunction="styleManager.closeColor"
    />
  </div>

  <div class="modal-body">
    <!-- Palettes con scroll -->
    <div class="color-palettes-section">
      <h4 class="color-palettes-title">Palettes</h4>
      <div class="color-palette-scroll">
        <button class="cde-preset color-palette-item" data-scheme="platinum">Platinum</button>
        <button class="cde-preset color-palette-item" data-scheme="olive">Olive</button>
        <button class="cde-preset color-palette-item" data-scheme="marine">Marine</button>
        <button class="cde-preset color-palette-item" data-scheme="sand">Sand</button>
        <button class="cde-preset color-palette-item" data-scheme="midnight">Midnight</button>
        <button class="cde-preset color-palette-item" data-scheme="cobalt">Cobalt</button>
        <button class="cde-preset color-palette-item" data-scheme="forest">Forest</button>
        <button class="cde-preset color-palette-item" data-scheme="sunset">Sunset</button>
        <button class="cde-preset color-palette-item" data-scheme="amber">Amber</button>
        <button class="cde-preset color-palette-item" data-scheme="monochrome">Mono</button>
      </div>
    </div>

    <!-- Cuadros de color en fila (sin labels) -->
    <div class="color-swatches-row">
      <button class="color-swatch-btn" style="background-color: var(--workspace-color, #a0a0a0);" 
              onclick="document.getElementById('color-workspace').click()">
      </button>
      <input type="color" id="color-workspace" value="#a0a0a0" data-var="--workspace-color" style="display: none;" 
             oninput="this.previousElementSibling.style.backgroundColor = this.value" />

      <button class="color-swatch-btn" style="background-color: var(--titlebar-color, #000080);"
              onclick="document.getElementById('color-title-active').click()">
      </button>
      <input type="color" id="color-title-active" value="#000080" data-var="--titlebar-color" style="display: none;"
             oninput="this.previousElementSibling.style.backgroundColor = this.value" />

      <button class="color-swatch-btn" style="background-color: var(--window-color, #c0c0c0);"
              onclick="document.getElementById('color-background').click()">
      </button>
      <input type="color" id="color-background" value="#c0c0c0" data-var="--window-color" style="display: none;"
             oninput="this.previousElementSibling.style.backgroundColor = this.value" />

      <button class="color-swatch-btn" style="background-color: var(--highlight-color, #0000ff);"
              onclick="document.getElementById('color-highlight').click()">
      </button>
      <input type="color" id="color-highlight" value="#0000ff" data-var="--highlight-color" style="display: none;"
             oninput="this.previousElementSibling.style.backgroundColor = this.value" />

      <button class="color-swatch-btn" style="background-color: var(--text-color, #000000);"
              onclick="document.getElementById('color-text').click()">
      </button>
      <input type="color" id="color-text" value="#000000" data-var="--text-color" style="display: none;"
             oninput="this.previousElementSibling.style.backgroundColor = this.value" />
    </div>

    <!-- Default button -->
    <div class="color-default-section">
<button class="cde-btn color-default-btn" onclick="styleManager.resetColor()">Default</button>
    </div>
  </div>

  <div class="cde-actionbar">
    <button class="cde-btn cde-btn-default" onclick="styleManager.applyColor(); styleManager.closeColor()">OK</button>
    <button class="cde-btn" onclick="styleManager.closeColor()">Cancel</button>
    <button class="cde-btn" onclick="styleManager.showMessage('Help not implemented')">Help</button>
  </div>
</div>